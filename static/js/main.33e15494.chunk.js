(this.webpackJsonpgame__2048=this.webpackJsonpgame__2048||[]).push([[0],{125:function(e,n,t){},126:function(e,n,t){"use strict";t.r(n);var r=t(2),c=t.n(r),a=t(46),l=t.n(a),u=t(6),i=t(1),o=(t(51),t(0)),s=function(e){switch(e){case 2:return"#eee4da";case 4:return"#ede0c8";case 8:return"#f2b179";case 16:return"#f59563";case 32:return"#f67c5f";case 64:return" #f65e3b";case 128:return"#edcf72";case 256:return"#edcc61";case 512:return"#edc850";case 1024:return"#edc53f";case 2048:return"#edc22e";default:return"#C2B3A3"}},d=function(e){var n=e.num;return Object(o.jsx)("div",{className:"tile",style:{background:s(n),color:2===n||4===n?"#645B52":"#F7F4EF",fontSize:n>512?"35px":"45px"},children:n||""})},f=(t(53),function(e){var n=e.data,t=e.score,r=e.onClickNewGame,c=e.win,a=e.gameOver;return Object(o.jsxs)("div",{className:"board",children:[Object(o.jsx)("div",{className:"game",children:Object(o.jsxs)("div",{className:"game-group",children:[Object(o.jsx)("h1",{className:"game-title",children:"2048"}),Object(o.jsxs)("div",{className:"game-score-container",children:[Object(o.jsxs)("div",{className:"game-score-box",children:[Object(o.jsx)("span",{className:"game-score-box--current",children:"SCORE"}),Object(o.jsx)("span",{children:t})]}),Object(o.jsx)("button",{className:"game-refresh",onClick:function(){r()},children:"Restart"})]})]})}),Object(o.jsx)("div",{className:"board-body",children:n.map((function(e,n){return Object(o.jsx)("div",{className:"board-row",children:e.map((function(e,n){return Object(o.jsx)(d,{num:e},n)}))},n)}))}),Object(o.jsxs)("div",{className:"finish",children:[c&&Object(o.jsx)("span",{children:"Winner! Congrats! You did it!"}),a&&Object(o.jsx)("span",{children:"Game over"})]})]})});var j=function(e,n){var t=Object(r.useState)((function(){try{var t=window.localStorage.getItem(e);return t?JSON.parse(t):n}catch(r){return console.log(r),n}})),c=Object(i.a)(t,2),a=c[0],l=c[1];return[a,function(n){try{var t=n instanceof Function?n(a):n;l(t),window.localStorage.setItem(e,JSON.stringify(t))}catch(r){console.log(r)}}]},b=t(4),v=t.n(b),m=function(e){return e[0].map((function(n,t){return e.map((function(e){return e[t]}))}))},O=function(e){return m(e.reverse())},h=function(e){return m(e).reverse()},g=function(){return[Math.floor(4*Math.random()),Math.floor(4*Math.random())]},p=(t(125),function(){var e=[[null,null,null,null],[null,null,null,null],[null,null,null,null],[null,null,null,null]],n=j("initial",e),t=Object(i.a)(n,2),c=t[0],a=t[1],l=j("score",0),s=Object(i.a)(l,2),d=s[0],b=s[1],m=j("gameover",!1),p=Object(i.a)(m,2),x=p[0],w=p[1],N=j("restart",!0),k=Object(i.a)(N,2),y=k[0],S=k[1],B=j("win",!1),C=Object(i.a)(B,2),E=C[0],J=C[1],M=j("history",[]),F=Object(i.a)(M,2),_=F[0],G=F[1],I=j("scorelist",[]),A=Object(i.a)(I,2),L=A[0],R=A[1],z=function(){var e=v()(c);W(e),W(e),a(e),S(!1)};Object(r.useEffect)((function(){y&&z()}),[y]);var W=function(e){for(var n=g(e),t=Object(i.a)(n,2),r=t[0],c=t[1];null!==e[r][c];){var a=g(e),l=Object(i.a)(a,2);r=l[0],c=l[1]}return e[r][c]=Math.random()>.9?4:2,e},Y=function(e,n){return JSON.stringify(n)!==JSON.stringify(e)};function q(e){return[].concat.apply([],e)}var D=function(e){for(var n=e.filter(Boolean).concat([null,null,null,null]).slice(0,4),t=0;t<e.length;t++)n[t]&&n[t+1]&&n[t]===n[t+1]&&(n[t]*=2,n[t+1]=null,b(d+n[t]));return n.filter(Boolean).concat([null,null,null,null]).slice(0,4)},H=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=v()(c),t=v()(c).map((function(e){return D(e)}));if(Y(n,t)){if(G([].concat(Object(u.a)(_),[n])),q(t).includes(2048))return J(!0),void a(t);W(t)}else!q(n).includes(null)&&e&&V(t)&&w(!0);return e&&a(t),t},K=function(e){for(var n=[],t=(e=e.filter(Boolean)).length-1;t>0;t--)e[t]>0&&e[t-1]===e[t]&&(e[t]*=2,e[t-1]=null,b(d+e[t]));return n=(n=[null,null,null,null].concat(e.filter(Boolean))).slice(n.length-4)},P=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=c;if(!E){var t=v()(c).map((function(e){return K(e)}));if(Y(n,t)){if(G([].concat(Object(u.a)(_),[n])),q(t).includes(2048))return J(!0),void a(t);W(t)}else!q(n).includes(null)&&e&&V(t)&&w(!0);return e&&a(t),t}},Q=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=v()(c),t=v()(c);if(t=h(O(t).map((function(e){return K(e)}))),Y(n,t)){if(G([].concat(Object(u.a)(_),[n])),q(t).includes(2048))return J(!0),void a(t);W(t)}else!q(n).includes(null)&&e&&V(t)&&w(!0);return e&&a(t),t},T=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=v()(c),t=v()(c);if(t=h(O(t).map((function(e){return D(e)}))),Y(n,t)){if(G([].concat(Object(u.a)(_),[n])),q(t).includes(2048))return J(!0),void a(t);W(t)}else!q(n).includes(null)&&e&&V(t)&&w(!0);return e&&a(t),t},U=function(e){switch(e.keyCode){case 38:Q();break;case 40:T();break;case 37:H();break;case 39:P();break;default:return}};Object(r.useEffect)((function(){return window.addEventListener("keydown",U),function(){window.removeEventListener("keydown",U)}}));var V=function(e){return![Y(e,Q(!1)),Y(e,T(!1)),Y(e,P(!1)),Y(e,H(!1))].includes(!0)};return Object(o.jsx)("div",{children:Object(o.jsx)("div",{className:"App",children:Object(o.jsx)(f,{data:c,score:d,onClickNewGame:function(){R([].concat(Object(u.a)(L),[d])),G([]),w(!1),S(!0),b(0),a(e)},initBoard:z,win:E,gameOver:x})})})});l.a.render(Object(o.jsx)(c.a.StrictMode,{children:Object(o.jsx)(p,{})}),document.getElementById("root"))},51:function(e,n,t){},53:function(e,n,t){}},[[126,1,2]]]);
//# sourceMappingURL=main.33e15494.chunk.js.map