(this.webpackJsonpgame__2048=this.webpackJsonpgame__2048||[]).push([[0],{127:function(e,n,t){},128:function(e,n,t){"use strict";t.r(n);var r=t(1),c=t.n(r),a=t(47),l=t.n(a),u=t(30),i=t(6),o=t(2),s=(t(53),t(0)),d=function(e){switch(e){case 2:return"#eee4da";case 4:return"#ede0c8";case 8:return"#f2b179";case 16:return"#f59563";case 32:return"#f67c5f";case 64:return" #f65e3b";case 128:return"#edcf72";case 256:return"#edcc61";case 512:return"#edc850";case 1024:return"#edc53f";case 2048:return"#edc22e";default:return"#C2B3A3"}},f=function(e){var n=e.num;return Object(s.jsx)("div",{className:"tile",style:{background:d(n),color:2===n||4===n?"#645B52":"#F7F4EF",fontSize:n>512?"35px":"45px"},children:n||""})},j=(t(55),function(e){var n=e.data,t=e.score,r=e.onClickNewGame,c=e.win,a=e.gameOver;return Object(s.jsxs)("div",{className:"board",children:[Object(s.jsx)("div",{className:"game",children:Object(s.jsxs)("div",{className:"game-group",children:[Object(s.jsx)("h1",{className:"game-title",children:"2048"}),Object(s.jsxs)("div",{className:"game-score-container",children:[Object(s.jsxs)("div",{className:"game-score-box",children:[Object(s.jsx)("span",{className:"game-score-box--current",children:"SCORE"}),Object(s.jsx)("span",{children:t})]}),Object(s.jsx)("button",{className:"game-refresh",onClick:function(){r()},children:"Restart"})]})]})}),Object(s.jsx)("div",{className:"board-body",children:n.map((function(e,n){return Object(s.jsx)("div",{className:"board-row",children:e.map((function(e,n){return Object(s.jsx)(f,{num:e},n)}))},n)}))}),Object(s.jsxs)("div",{className:"finish",children:[!c&&!a&&Object(s.jsx)("span",{children:"Good luck!"}),c&&Object(s.jsx)("span",{children:"Winner! Congrats! You did it!"}),a&&Object(s.jsx)("span",{children:"Game over!"})]})]})});var b=function(e,n){var t=Object(r.useState)((function(){try{var t=window.localStorage.getItem(e);return t?JSON.parse(t):n}catch(r){return console.log(r),n}})),c=Object(o.a)(t,2),a=c[0],l=c[1];return[a,function(n){try{var t=n instanceof Function?n(a):n;l(t),window.localStorage.setItem(e,JSON.stringify(t))}catch(r){console.log(r)}}]},v=t(4),O=t.n(v),m=function(e){return e[0].map((function(n,t){return e.map((function(e){return e[t]}))}))},h=function(e){return m(e.reverse())},p=function(e){return m(e).reverse()},g=function(){return[Math.floor(4*Math.random()),Math.floor(4*Math.random())]},w=t(48),x=(t(127),function(){var e=[[null,null,null,null],[null,null,null,null],[null,null,null,null],[null,null,null,null]],n=b("initial",e),t=Object(o.a)(n,2),c=t[0],a=t[1],l=b("score",0),d=Object(o.a)(l,2),f=d[0],v=d[1],m=b("gameover",!1),x=Object(o.a)(m,2),N=x[0],k=x[1],S=b("restart",!0),y=Object(o.a)(S,2),B=y[0],E=y[1],C=b("win",!1),M=Object(o.a)(C,2),J=M[0],F=M[1],G=b("history",[]),_=Object(o.a)(G,2),I=_[0],L=_[1],R=b("scorelist",[]),A=Object(o.a)(R,2),D=A[0],z=A[1],T=function(){var e=O()(c);U(e),U(e),a(e),E(!1)};Object(r.useEffect)((function(){B&&T()}),[B]);var U=function(e){for(var n=g(e),t=Object(o.a)(n,2),r=t[0],c=t[1];null!==e[r][c];){var a=g(e),l=Object(o.a)(a,2);r=l[0],c=l[1]}return e[r][c]=Math.random()>.9?4:2,e},W=function(e,n){return JSON.stringify(n)!==JSON.stringify(e)};function Y(e){return[].concat.apply([],e)}var q=function(e){for(var n=e.filter(Boolean).concat([null,null,null,null]).slice(0,4),t=0;t<e.length;t++)n[t]&&n[t+1]&&n[t]===n[t+1]&&(n[t]*=2,n[t+1]=null,v(f+n[t]));return n.filter(Boolean).concat([null,null,null,null]).slice(0,4)},H=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=O()(c),t=O()(c).map((function(e){return q(e)}));if(W(n,t)){if(L([].concat(Object(i.a)(I),[n])),Y(t).includes(2048))return F(!0),void a(t);U(t)}else!Y(n).includes(null)&&e&&$(t)&&k(!0);return e&&a(t),t},K=function(e){for(var n=[],t=(e=e.filter(Boolean)).length-1;t>0;t--)e[t]>0&&e[t-1]===e[t]&&(e[t]*=2,e[t-1]=null,v(f+e[t]));return n=(n=[null,null,null,null].concat(e.filter(Boolean))).slice(n.length-4)},P=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=c;if(!J){var t=O()(c).map((function(e){return K(e)}));if(W(n,t)){if(L([].concat(Object(i.a)(I),[n])),Y(t).includes(2048))return F(!0),void a(t);U(t)}else!Y(n).includes(null)&&e&&$(t)&&k(!0);return e&&a(t),t}},Q=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=O()(c),t=O()(c);if(t=p(h(t).map((function(e){return K(e)}))),W(n,t)){if(L([].concat(Object(i.a)(I),[n])),Y(t).includes(2048))return F(!0),void a(t);U(t)}else!Y(n).includes(null)&&e&&$(t)&&k(!0);return e&&a(t),t},V=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=O()(c),t=O()(c);if(t=p(h(t).map((function(e){return q(e)}))),W(n,t)){if(L([].concat(Object(i.a)(I),[n])),Y(t).includes(2048))return F(!0),void a(t);U(t)}else!Y(n).includes(null)&&e&&$(t)&&k(!0);return e&&a(t),t},X=function(e){switch(e.keyCode){case 38:Q();break;case 40:V();break;case 37:H();break;case 39:P();break;default:return}};Object(r.useEffect)((function(){return window.addEventListener("keydown",X),function(){window.removeEventListener("keydown",X)}}));var Z=Object(w.useSwipeable)({onSwipedLeft:function(){return H()},onSwipedRight:function(){return P()},onSwipedUp:function(){return Q()},onSwipedDown:function(){return V()},preventDefaultTouchmoveEvent:!0,trackMouse:!0}),$=function(e){return![W(e,Q(!1)),W(e,V(!1)),W(e,P(!1)),W(e,H(!1))].includes(!0)};return Object(s.jsx)("div",Object(u.a)(Object(u.a)({},Z),{},{children:Object(s.jsx)("div",{className:"App",children:Object(s.jsx)(j,{data:c,score:f,onClickNewGame:function(){z([].concat(Object(i.a)(D),[f])),L([]),k(!1),E(!0),v(0),a(e)},initBoard:T,win:J,gameOver:N})})}))});l.a.render(Object(s.jsx)(c.a.StrictMode,{children:Object(s.jsx)(x,{})}),document.getElementById("root"))},53:function(e,n,t){},55:function(e,n,t){}},[[128,1,2]]]);
//# sourceMappingURL=main.ee4217e7.chunk.js.map